## mater node
负责管理集群级别的改动，创建、删除index，加入、移除集群节点。master不会参与文档级别的改动或者查询，
这意味着单个master节点不会成为集群的性能瓶颈。

## 集群中请求处理
用户可以请求集群中的任何节点，包括master（[red]#*前面不是说master不参与文档级别的操作么？？*#）。每个节点都有每个
文档在集群中存储的位置，可以将请求forward到存储数据的节点。请求的节点负责从单个或多个节点收集响应数据，并返回给客户端。
这些都由es集群透明管理。

## 集群健康

[green]#green#: All primary and replica shards are active.

[yellow]#yellow#: All primary shards are active, but not all replica shards are active.

[red]#red#: Not all primary shards are active.

## 添加 Index

Index 是存储数据的地方，事实上，Index 是一个指向一个或多个物理 shards 的逻辑命名空间。

Shard 是存储 Index 中部分数据的底层的工作单元。一个 shard 是一个 Lucene 实例，一个完整的搜索引擎。
数据被存储或索引在 shard 中，但是应用程序不直接跟shard交互，而是跟Index交互。

Shard 决定es集群怎样在集群中分布式存储数据。文档存储在shard中，而shard被分配在集群的节点上。随着集群节点的
扩张和减少，为了维持负载均衡，es自动的在节点之间迁移shards

一个 shard 可以是主 shard（primary shard）也可以是副本shard（replica shard）。每个索引中的文档属于一个主shard，
所以主shard的数量决定了索引中可以存放多少数据。

NOTE: 在技术上，一个主shard最多可以包含Integer.MAX_VALUE-128个文档。实际上取决于使用场景：硬件资源、文档大小和复杂度、
怎样索引和查询文档，以及期望的响应时间。

副本shard仅是主shard的拷贝，提供冗余的副本，一来可以防止硬件故障，二来，可以响应读请求。

一个索引中，主shard的数目在创建索引的时候就固定了，但是副本shard的数据可以动态改变。