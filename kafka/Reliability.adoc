== 可靠的数据传递

* 可靠性及其在Kafka中的含义

* Kafka的复制功能，如何提高可靠性

* 根据使用场景配置Kafka的broker和主题

=== 可靠性保证

* Kafka 可以保证分区消息的顺序。

* 只有当消息被写入分区的所有同步副本时（但不一定要写入磁盘），它才被认为是“已提交”的。

* 只要还有一个副本是活跃的，那么已经提交的消息就不会丢失。

* 消费者只能读取已经提交的消息。

权衡一般是指消息存储的可靠性和一致性的重要程度与可用性、高吞吐量、低延迟和硬件成本的重要程度之间的权衡。

=== 复制

分区首领是同步副本，而对于跟随者副本来说，它需要满足以下条件才能被认为是同步的。

* 与 Zookeeper 之间有一个活跃的会话，也就是说，它在过去的 6s（可配置）内向 Zookeeper 发送过心跳。

* 在过去的 10s 内（可配置）从首领那里获取过消息。

* 在过去的 10s 内从首领那里获取过最新的消息。光从首领那里获取消息是不够的，它还必须是几乎零延迟的。

